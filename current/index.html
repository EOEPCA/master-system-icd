<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="Master System Interface Control Document for the Common Architecture">
<meta name="keywords" content="common architecture master system interface">
<meta name="author" content="TVUK System Team">
<title>Master System Interface Control Document: EOEPCA.ICD.001</title>
<link rel="stylesheet" href="stylesheets/eoepca.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Master System Interface Control Document: EOEPCA.ICD.001</h1>
<div class="details">
<span id="author" class="author">TVUK System Team</span><br>
<span id="email" class="email">&lt;<a href="mailto:Eoepca.SystemTeam@telespazio.com">Eoepca.SystemTeam@telespazio.com</a>&gt;</span><br>
<span id="revnumber">version Draft for 0.1,</span>
<span id="revdate">In Progress</span>
<br><span id="revremark"></span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Master System Interface Control Document</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_purpose_and_scope">1.1. Purpose and Scope</a></li>
<li><a href="#_structure_of_the_document">1.2. Structure of the Document</a></li>
<li><a href="#_reference_documents">1.3. Reference Documents</a></li>
<li><a href="#_terminology">1.4. Terminology</a></li>
<li><a href="#_glossary">1.5. Glossary</a></li>
</ul>
</li>
<li><a href="#mainOverview">2. Overview</a></li>
<li><a href="#mainUserManagement">3. User Management</a>
<ul class="sectlevel2">
<li><a href="#mainLoginService">3.1. Login Service</a>
<ul class="sectlevel3">
<li><a href="#_description">3.1.1. Description</a></li>
<li><a href="#_context">3.1.2. Context</a></li>
<li><a href="#_provided_interfaces">3.1.3. Provided Interfaces</a>
<ul class="sectlevel4">
<li><a href="#adminWeb">3.1.3.1. Administration Web Interface</a></li>
<li><a href="#mainOIDC">3.1.3.2. OIDC Interface</a></li>
<li><a href="#_uma_interface">3.1.3.3. UMA Interface</a></li>
<li><a href="#_scim_interface">3.1.3.4. SCIM Interface</a></li>
</ul>
</li>
<li><a href="#_required_interfaces">3.1.4. Required Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_xacml_policy_checks">3.1.4.1. XACML Policy Checks</a></li>
</ul>
</li>
<li><a href="#_example_scenarios">3.1.5. Example Scenarios</a>
<ul class="sectlevel4">
<li><a href="#_end_user_authentication">3.1.5.1. End-User Authentication</a></li>
<li><a href="#_resource_access">3.1.5.2. Resource Access</a></li>
<li><a href="#_identity_management">3.1.5.3. Identity Management</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mainPEP">3.2. Policy Enforcement Point (PEP)</a>
<ul class="sectlevel3">
<li><a href="#_description_2">3.2.1. Description</a></li>
<li><a href="#_context_2">3.2.2. Context</a></li>
<li><a href="#_provided_interfaces_2">3.2.3. Provided Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_platform_resource_api">3.2.3.1. Platform Resource API</a></li>
<li><a href="#_secured_proxy">3.2.3.2. Secured Proxy</a></li>
</ul>
</li>
<li><a href="#_required_interfaces_2">3.2.4. Required Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_oidc_authentication">3.2.4.1. OIDC Authentication</a></li>
<li><a href="#_uma_authorization">3.2.4.2. UMA Authorization</a></li>
<li><a href="#_protected_resource_server">3.2.4.3. Protected Resource Server</a></li>
<li><a href="#_policy_decision_point_pdp">3.2.4.4. Policy Decision Point (PDP)</a></li>
</ul>
</li>
<li><a href="#_example_scenarios_2">3.2.5. Example Scenarios</a>
<ul class="sectlevel4">
<li><a href="#_resource_access_2">3.2.5.1. Resource Access</a></li>
<li><a href="#_resource_management">3.2.5.2. Resource Management</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mainPDP">3.3. Policy Decision Point (PDP)</a>
<ul class="sectlevel3">
<li><a href="#_description_3">3.3.1. Description</a></li>
<li><a href="#_context_3">3.3.2. Context</a></li>
<li><a href="#_provided_interfaces_3">3.3.3. Provided Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_platform_policy_api">3.3.3.1. Platform Policy API</a></li>
<li><a href="#_xacml_policy_checks_2">3.3.3.2. XACML Policy Checks</a></li>
</ul>
</li>
<li><a href="#_required_interfaces_3">3.3.4. Required Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_oidc_authentication_2">3.3.4.1. OIDC Authentication</a></li>
<li><a href="#_uma_authorization_2">3.3.4.2. UMA Authorization</a></li>
<li><a href="#_scim_identity_management">3.3.4.3. SCIM Identity Management</a></li>
</ul>
</li>
<li><a href="#_example_scenarios_3">3.3.5. Example Scenarios</a>
<ul class="sectlevel4">
<li><a href="#_policy_access_check">3.3.5.1. Policy Access Check</a></li>
<li><a href="#_policy_management">3.3.5.2. Policy Management</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mainUserProfile">3.4. User Profile</a>
<ul class="sectlevel3">
<li><a href="#_description_4">3.4.1. Description</a></li>
<li><a href="#_context_4">3.4.2. Context</a></li>
<li><a href="#_provided_interfaces_4">3.4.3. Provided Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_profile_management_web_interface">3.4.3.1. Profile Management Web Interface</a></li>
</ul>
</li>
<li><a href="#_required_interfaces_4">3.4.4. Required Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_oidc_authentication_3">3.4.4.1. OIDC Authentication</a></li>
<li><a href="#_scim_identity_management_2">3.4.4.2. SCIM Identity Management</a></li>
<li><a href="#_email_service">3.4.4.3. Email Service</a></li>
</ul>
</li>
<li><a href="#_example_scenarios_4">3.4.5. Example Scenarios</a>
<ul class="sectlevel4">
<li><a href="#_attribute_edition">3.4.5.1. Attribute Edition</a></li>
<li><a href="#_account_deletion">3.4.5.2. Account Deletion</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mainLicenseManager">3.5. License Manager</a></li>
<li><a href="#mainBillingService">3.6. Billing Service</a></li>
<li><a href="#mainPricingEngine">3.7. Pricing Engine</a></li>
</ul>
</li>
<li><a href="#mainProcessingAndChaining">4. Processing &amp; Chaining</a>
<ul class="sectlevel2">
<li><a href="#mainADES">4.1. Application Deployment and Execution Service (ADES)</a>
<ul class="sectlevel3">
<li><a href="#_description_5">4.1.1. Description</a></li>
<li><a href="#_context_5">4.1.2. Context</a></li>
<li><a href="#_provided_interfaces_5">4.1.3. Provided Interfaces</a>
<ul class="sectlevel4">
<li><a href="#mainWPS">4.1.3.1. WPS 1.0.0 &amp; 2.0.0</a></li>
<li><a href="#mainOgcApiProc">4.1.3.2. OGC API Processes</a></li>
<li><a href="#_application_invocation">4.1.3.3. Application Invocation</a></li>
</ul>
</li>
<li><a href="#_required_interfaces_5">4.1.4. Required Interfaces</a>
<ul class="sectlevel4">
<li><a href="#_resource_managers">4.1.4.1. Resource Managers</a></li>
</ul>
</li>
<li><a href="#_example_scenarios_5">4.1.5. Example Scenarios</a>
<ul class="sectlevel4">
<li><a href="#_ades_processing_flows">4.1.5.1. ADES Processing Flows</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mainEMS">4.2. Execution Management Service (EMS)</a></li>
<li><a href="#mainWorkflowEngine">4.3. Workflow Engine</a></li>
<li><a href="#mainPDE">4.4. Processor Development Environment (PDE)</a></li>
<li><a href="#mainIAT">4.5. Interactive Analysis Tool (IAT)</a></li>
</ul>
</li>
<li><a href="#mainResourceManagement">5. Resource Management</a>
<ul class="sectlevel2">
<li><a href="#mainResourceCatalogue">5.1. Resource Catalogue</a></li>
<li><a href="#mainDataAccessServices">5.2. Data Access Services</a></li>
<li><a href="#mainDataAccessGateway">5.3. Data Access Gateway</a></li>
<li><a href="#mainDataAccessLibrary">5.4. Data Access Library</a></li>
<li><a href="#mainDataIngestion">5.5. Data Ingestion</a></li>
<li><a href="#mainWorkspace">5.6. Workspace</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>EO Exploitation Platform Common Architecture<br>
<em>Master System Interface Control Document</em><br>
EOEPCA.ICD.001</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>COMMENTS and ISSUES</strong><br>
If you would like to raise comments or issues on this document, please do so by raising an Issue at the following URL <a href="https://github.com/EOEPCA/master-system-icd/issues" target="_blank" rel="noopener">https://github.com/EOEPCA/master-system-icd/issues</a>.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>PDF</strong><br>
This document is available in PDF format <a href="EOEPCA-master-system-icd.pdf" target="_blank" rel="noopener">here</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>EUROPEAN SPACE AGENCY CONTRACT REPORT</strong><br>
The work described in this report was done under ESA contract. Responsibility for the contents resides in the author or organisation that prepared it.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>TELESPAZIO VEGA UK Ltd</strong><br>
350 Capability Green, Luton, Bedfordshire, LU1 3LU, United Kingdom.<br>
Tel: +44 (0)1582 399000<br>
<a href="http://telespazio-vega.com/">www.telespazio-vega.com</a></p></td>
</tr>
</tbody>
</table>
<hr>
<div class="dlist">
<dl>
<dt class="hdlist1">AMENDMENT HISTORY</dt>
<dd>
<p>This document shall be amended by releasing a new edition of the document in its entirety.<br>
The Amendment Record Sheet below records the history and issue status of this document.</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Amendment Record Sheet</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 62.5%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">ISSUE</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock">DATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REASON</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">0.1</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock">dd/mm/yyyy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In-progress draft</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<hr>
<div style="page-break-after: always;"></div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose_and_scope">1.1. Purpose and Scope</h3>
<div class="paragraph">
<p>This is the Master System Interface Control Document for the Common Architecture.</p>
</div>
</div>
<div class="sect2">
<h3 id="_structure_of_the_document">1.2. Structure of the Document</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Section 2 - <a href="#mainContext">[mainContext]</a></dt>
<dd>
<p>Provides the context for Exploitation Platforms within the ecosystem of EO analysis.</p>
</dd>
<dt class="hdlist1">Section 3 - <a href="#mainDesignOverview">[mainDesignOverview]</a></dt>
<dd>
<p>Provides an overview of the Common Architecture and the domain areas.</p>
</dd>
<dt class="hdlist1">Section 4 - <a href="#mainUserManagement">User Management</a></dt>
<dd>
<p>Describes the User Management domain area.</p>
</dd>
<dt class="hdlist1">Section 5 - <a href="#mainProcessingAndChaining">Processing &amp; Chaining</a></dt>
<dd>
<p>Describes the Processing &amp; Chaining domain area.</p>
</dd>
<dt class="hdlist1">Section 6 - <a href="#mainResourceManagement">Resource Management</a></dt>
<dd>
<p>Describes the Resource Management domain area.</p>
</dd>
<dt class="hdlist1">Section 7 - <a href="#mainPlatformApi">[mainPlatformApi]</a></dt>
<dd>
<p>Describes the Platform API, covering all domain areas.</p>
</dd>
<dt class="hdlist1">Section 8 - <a href="#mainWebPortal">[mainWebPortal]</a></dt>
<dd>
<p>Describes the Web Portal, covering all domain areas.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_reference_documents">1.3. Reference Documents</h3>
<div class="paragraph">
<p>The following is a list of Reference Documents with a direct bearing on the content of this document.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 63.6363%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Reference</th>
<th class="tableblock halign-left valign-top">Document Details</th>
<th class="tableblock halign-left valign-top">Version</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="EOEPCA-MSDD"></a>[EOEPCA-MSDD]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>EOEPCA - Master System Design Document<br>
EOEPCA.SDD.001<br>
<a href="https://eoepca.github.io/master-system-design" class="bare">https://eoepca.github.io/master-system-design</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Issue 1.0,<br>
02/08/2019</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="EOEPCA-UC"></a>[EOEPCA-UC]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>EOEPCA - Use Case Analysis<br>
EOEPCA.TN.005<br>
<a href="https://eoepca.github.io/use-case-analysis" class="bare">https://eoepca.github.io/use-case-analysis</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Issue 1.0,<br>
02/08/2019</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="EP-FM"></a>[EP-FM]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Exploitation Platform - Functional Model,<br>
ESA-EOPSDP-TN-17-050</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Issue 1.0,<br>
30/11/2017</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="TEP-OA"></a>[TEP-OA]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Thematic Exploitation Platform Open Architecture,<br>
EMSS-EOPS-TN-17-002</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Issue 1,<br>
12/12/2017</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-WPS"></a>[OGC-WPS]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Web Processing Service,<br>
OGC 05-007,<br>
<a href="http://portal.opengeospatial.org/files/?artifact_id=24151" class="bare">http://portal.opengeospatial.org/files/?artifact_id=24151</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>05-007r7,<br>
08/06/2007</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-WPS2"></a>[OGC-WPS2]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC® WPS 2.0 Interface Standard,<br>
OGC 14-065,<br>
<a href="http://docs.opengeospatial.org/is/14-065/14-065.html" class="bare">http://docs.opengeospatial.org/is/14-065/14-065.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>14-065r2,<br>
05/03/2015</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-API-PROC"></a>[OGC-API-PROC]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC WPS 2.0 REST/JSON Binding Extension, Draft,<br>
OGC 18-062,<br>
<a href="https://github.com/opengeospatial/wps-rest-binding" class="bare">https://github.com/opengeospatial/wps-rest-binding</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>1.0-draft.4</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-COMMON"></a>[OGC-COMMON]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Web Services Common Standard,<br>
OGC 06-121r9,<br>
<a href="https://portal.ogc.org/files/?artifact_id=38867&amp;version=2" class="bare">https://portal.ogc.org/files/?artifact_id=38867&amp;version=2</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>06-121r9 v2.0.0,<br>
07/04/2010</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="CWL"></a>[CWL]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Common Workflow Language Specifications,<br>
<a href="https://www.commonwl.org/v1.0/" class="bare">https://www.commonwl.org/v1.0/</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v1.0.2</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="TB13-AP"></a>[TB13-AP]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Testbed-13, EP Application Package Engineering Report,<br>
OGC 17-023,<br>
<a href="http://docs.opengeospatial.org/per/17-023.html" class="bare">http://docs.opengeospatial.org/per/17-023.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>17-023,<br>
30/01/2018</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="TB13-ADES"></a>[TB13-ADES]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Testbed-13, Application Deployment and Execution Service Engineering Report,<br>
OGC 17-024,<br>
<a href="http://docs.opengeospatial.org/per/17-024.html" class="bare">http://docs.opengeospatial.org/per/17-024.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>17-024,<br>
11/01/2018</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="TB14-AP"></a>[TB14-AP]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Testbed-14, Application Package Engineering Report,<br>
OGC 18-049r1,<br>
<a href="http://docs.opengeospatial.org/per/18-049r1.html" class="bare">http://docs.opengeospatial.org/per/18-049r1.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>18-049r1,<br>
07/02/2019</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="TB14-ADES"></a>[TB14-ADES]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Testbed-14, ADES &amp; EMS Results and Best Practices Engineering Report,<br>
OGC 18-050r1, <a href="http://docs.opengeospatial.org/per/18-050r1.html" class="bare">http://docs.opengeospatial.org/per/18-050r1.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>18-050r1,<br>
08/02/2019</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OS-GEO-TIME"></a>[OS-GEO-TIME]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OpenSearch GEO: OpenSearch Geo and Time Extensions,<br>
OGC 10-032r8,<br>
<a href="http://www.opengeospatial.org/standards/opensearchgeo" class="bare">http://www.opengeospatial.org/standards/opensearchgeo</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10-032r8,<br>
14/04/2014</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OS-EO"></a>[OS-EO]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OpenSearch EO: OGC OpenSearch Extension for Earth Observation,<br>
OGC 13-026r9,<br>
<a href="http://docs.opengeospatial.org/is/13-026r8/13-026r8.html" class="bare">http://docs.opengeospatial.org/is/13-026r8/13-026r8.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>13-026r9,<br>
16/12/2016</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="GEOJSON-LD"></a>[GEOJSON-LD]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC EO Dataset Metadata GeoJSON(-LD) Encoding Standard,<br>
OGC 17-003r1/17-084</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>17-003r1/17-084</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="GEOJSON-LD-RESP"></a>[GEOJSON-LD-RESP]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC OpenSearch-EO GeoJSON(-LD) Response Encoding Standard,<br>
OGC 17-047</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>17-047</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="PCI-DSS"></a>[PCI-DSS]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Payment Card Industry Data Security Standard,<br>
<a href="https://www.pcisecuritystandards.org/document_library?category=pcidss&amp;document=pci_dss" class="bare">https://www.pcisecuritystandards.org/document_library?category=pcidss&amp;document=pci_dss</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v3.2.1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="CEOS-OS-BP"></a>[CEOS-OS-BP]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>CEOS OpenSearch Best Practise,<br>
<a href="http://ceos.org/ourwork/workinggroups/wgiss/access/opensearch/" class="bare">http://ceos.org/ourwork/workinggroups/wgiss/access/opensearch/</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v1.2,<br>
13/06/2017</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OIDC"></a>[OIDC]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OpenID Connect Core 1.0,<br>
<a href="https://openid.net/specs/openid-connect-core-1_0.html" class="bare">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v1.0,<br>
08/11/2014</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-CSW"></a>[OGC-CSW]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Catalogue Services 3.0 Specification - HTTP Protocol Binding (Catalogue Services for the Web),<br>
OGC 12-176r7,<br>
<a href="http://docs.opengeospatial.org/is/12-176r7/12-176r7.html" class="bare">http://docs.opengeospatial.org/is/12-176r7/12-176r7.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v3.0,<br>
10/06/2016</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-WMS"></a>[OGC-WMS]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Web Map Server Implementation Specification,<br>
OGC 06-042,<br>
<a href="http://portal.opengeospatial.org/files/?artifact_id=14416" class="bare">http://portal.opengeospatial.org/files/?artifact_id=14416</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v1.3.0,<br>
05/03/2006</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-WMTS"></a>[OGC-WMTS]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Web Map Tile Service Implementation Standard,<br>
OGC 07-057r7,<br>
<a href="http://portal.opengeospatial.org/files/?artifact_id=35326" class="bare">http://portal.opengeospatial.org/files/?artifact_id=35326</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v1.0.0,<br>
06/04/2010</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-WFS"></a>[OGC-WFS]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Web Feature Service 2.0 Interface Standard – With Corrigendum,<br>
OGC 09-025r2,<br>
<a href="http://docs.opengeospatial.org/is/09-025r2/09-025r2.html" class="bare">http://docs.opengeospatial.org/is/09-025r2/09-025r2.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v2.0.2,<br>
10/07/2014</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-WCS"></a>[OGC-WCS]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>OGC Web Coverage Service (WCS) 2.1 Interface Standard - Core,<br>
OGC 17-089r1,<br>
<a href="http://docs.opengeospatial.org/is/17-089r1/17-089r1.html" class="bare">http://docs.opengeospatial.org/is/17-089r1/17-089r1.html</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v2.1,<br>
16/08/2018</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="OGC-WCPS"></a>[OGC-WCPS]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Web Coverage Processing Service (WCPS) Language Interface Standard,<br>
OGC 08-068r2,<br>
<a href="http://portal.opengeospatial.org/files/?artifact_id=32319" class="bare">http://portal.opengeospatial.org/files/?artifact_id=32319</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>v1.0.0,<br>
25/03/2009</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="AWS-S3"></a>[AWS-S3]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Amazon Simple Storage Service REST API,<br>
<a href="https://docs.aws.amazon.com/AmazonS3/latest/API" class="bare">https://docs.aws.amazon.com/AmazonS3/latest/API</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API Version 2006-03-01</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="STAC-SPEC"></a>[STAC-SPEC]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>SpatioTemporal Asset Catalog specification,<br>
<a href="https://github.com/radiantearth/stac-spec" class="bare">https://github.com/radiantearth/stac-spec</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>1.0.0-beta.2</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="STAC-API"></a>[STAC-API]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>SpatioTemporal Asset Catalog API specification,<br>
<a href="https://github.com/radiantearth/stac-api-spec/" class="bare">https://github.com/radiantearth/stac-api-spec/</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>1.0-beta</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_terminology">1.4. Terminology</h3>
<div class="paragraph">
<p>The following terms are used in the Master System Interface Control Document.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User with administrative capability on the EP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Algorithm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A self-contained set of operations to be performed, typically to achieve a desired data manipulation. The algorithm must be implemented (codified) for deployment and execution on the platform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analysis Result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>Products</em> produced as output of an <em>Interactive Application</em> analysis session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of activities aimed to discover, interpret and communicate meaningful patters within the data. Analytics considered here are performed manually (or in a semi-automatic way) on-line with the aid of <em>Interactive Applications</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Artefact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The 'software' component that provides the execution unit of the <em>Application Package</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Deployment and Execution Service (ADES)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPS-T (REST/JSON) service that incorporates the Docker execution engine, and is responsible for the execution of the processing service (as a WPS request) within the ‘target’ Exploitation Platform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Descriptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A file that provides the metadata part of the <em>Application Package</em>. Provides all the metadata required to accommodate the processor within the WPS service and make it available for execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Package</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A platform independent and self-contained representation of a software item, providing executable, metadata and dependencies such that it can be deployed to and executed within an Exploitation Platform. Comprises the <em>Application Descriptor</em> and the <em>Application Artefact</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bulk Processing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Execution of a <em>Processing Service</em> on large amounts of data specified by AOI and TOI.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The codification of an algorithm performed with a given programming language - compiled to Software or directly executed (interpretted) within the platform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute Platform</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Platform on which execution occurs (this may differ from the Host or Home platform where federated processing is happening)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User accessing existing services/products within the EP. Consumers may be scientific/research or commercial, and may or may not be experts of the domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Access Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An abstraction of the interface to the data layer of the resource tier. The library provides bindings for common languages (including python, Javascript) and presents a common object model to the code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The act of building new products/services/applications to be exposed within the platform and made available for users to conduct exploitation activities. Development may be performed inside or outside of the platform. If performed outside, an integration activity will be required to accommodate the developed service so that it is exposed within the platform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User finds products/services of interest to them based upon search criteria.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Execution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The act to start a <em>Processing Service</em> or an <em>Interactive Application</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Execution Management Service (EMS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The EMS is responsible for the orchestration of workflows, including the possibility of steps running on other (remote) platforms, and the on-demand deployment of processors to local/remote ADES as required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User developing and integrating added-value to the EP (Scientific Researcher or Service Developer)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exploitation Tier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Exploitation Tier represents the end-users who exploit the services of the platform to perform analysis, or using high-level applications built-in on top of the platform’s services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An application or script that is developed and executed outside of the Exploitation Platform, but is able to use the data/services of the EP via a programmatic interface (API).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An unregistered User or an unauthenticated Consumer with limited access to the EP&#8217;s services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Home Platform</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Platform on which a User is based or from which an action was initiated by a User</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host Platform</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Platform through which a Resource has been published</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identity Provider (IdP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The source for validating user identity in a federated identity system, (user authentication as a service).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactive Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A stand-alone application provided within the exploitation platform for on-line hosted processing. Provides an interactive interface through which the user is able to conduct their analysis of the data, producing <em>Analysis Results</em> as output. Interactive Applications include at least the following types: console application, web application (rich browser interface), remote desktop to a hosted VM.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactive Console Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A simple <em>Interactive Application</em> for analysis in which a console interface to a platform-hosted terminal is provided to the user. The console interface can be provided through the user&#8217;s browser session or through a remote SSH connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactive Remote Desktop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An Interactive Application for analysis provided as a remote desktop session to an OS-session (or directly to a 'native' application) on the exploitation platform. The user will have access to a number of applications within the hosted OS. The remote desktop session is provided through the user’s web browser.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactive Web Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An Interactive Application for analysis provided as a rich user interface through the user&#8217;s web browser.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key-Value Pair</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A key-value pair (KVP) is an abstract data type that includes a group of key identifiers and a set of associated values. Key-value pairs are frequently used in lookup tables, hash tables and configuration files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes (K8s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Container orchestration system for automating application deployment, scaling and management.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Login Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An encapsulation of Authenticated Login provision within the Exploitation Platform context. The Login Service is an OpenID Connect Provider that is used purely for authentication. It acts as a Relying Party in flows with external IdPs to obtain access to the user&#8217;s identity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network of EO Resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The coordinated collection of European EO resources (platforms, data sources, etc.).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object Store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A computer data storage architecture that manages data as objects. Each object typically includes the data itself, a variable amount of metadata, and a globally unique identifier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">On-demand Processing Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>Processing Service</em> whose execution is initiated directly by the user on an ad-hoc basis.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Platform (EP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An on-line collection of products, services and tools for exploitation of EO data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Platform Tier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Platform Tier represents the Exploitation Platform and the services it offers to end-users</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of pre-defined activities that interact to achieve a result. For the exploitation platform, comprises on-line processing to derive data products from input data, conducted by a hosted processing service execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processing Result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <em>Products</em> produced as output of a <em>Processing Service</em> execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processing Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A non-interactive data processing that has a well-defined set of input data types, input parameterisation, producing <em>Processing Results</em> with a well-defined output data type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Products</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EO data (commercial and non-commercial) and Value-added products and made available through the EP. <em>It is assumed that the Hosting Environment for the EP makes available an existing supply of EO Data</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A entity, such as a Product, Processing Service or Interactive Application, which is of interest to a user, is indexed in a catalogue and can be returned as a single meaningful search result</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource Tier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Resource Tier represents the hosting infrastructure and provides the EO data, storage and compute upon which the exploitation platform is deployed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reusable Research Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An encapsulation of some research/analysis that describes all aspects required to reproduce the analysis, including data used, processing performed etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scientific Researcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expert user with the objective to perform scientific research. Having minimal IT knowledge with no desire to acquire it, they want the effort for the translation of their algorithm into a service/product to be minimised by the platform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Developer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expert user with the objective to provide a performing, stable and reliable service/product. Having deeper IT knowledge or a willingness to acquire it, they require deeper access to the platform IT functionalities for optimisation of their algorithm.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The compilation of code into a binary program to be executed within the platform on-line computing environment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Systematic Processing Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <em>Processing Service</em> whose execution is initiated automatically (on behalf of a user), either according to a schedule (routine) or triggered by an event (e.g. arrival of new data).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Terms &amp; Conditions (T&amp;Cs)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The obligations that the user agrees to abide by in regard of usage of products/services of the platform. T&amp;Cs are set by the provider of each product/service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transactional Web Processing Service (WPS-T)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transactional extension to WPS that allows adhoc deployment / undeployment of user-provided processors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An individual using the EP, of any type (Admin/Consumer/Expert/Guest)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value-added products</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Products generated from processing services of the EP (or external processing) and made available through the EP. This includes products uploaded to the EP by users and published for collaborative consumption</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Visualisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To obtain a visual representation of any data/products held within the platform - presented to the user within their web browser session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Coverage Service (WCS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC standard that provides an open specification for sharing raster datasets on the web.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Coverage Processing Service (WCPS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC standard that defines a protocol-independent language for the extraction, processing, and analysis of multi-dimentional coverages representing sensor, image, or statistics data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Feature Service (WFS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC standard that makes geographic feature data (vector geospatial datasets) available on the web.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Map Service (WMS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC standard that provides a simple HTTP interface for requesting geo-registered map images from one or more distributed geospatial databases.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Map Tile Service (WMTS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC standard that provides a simple HTTP interface for requesting map tiles of spatially referenced data using the images with predefined content, extent, and resolution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Processing Services (WPS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC standard that defines how a client can request the execution of a process, and how the output from the process is handled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A user-scoped 'container' in the EP, in which each user maintains their own links to resources (products and services) that have been collected by a user during their usage of the EP. The workspace acts as the hub for a user&#8217;s exploitation activities within the EP</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_glossary">1.5. Glossary</h3>
<div class="paragraph">
<p>The following acronyms and abbreviations have been used in this report.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AAI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication &amp; Authorization Infrastructure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ABAC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute Based Access Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Deployment and Execution Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALFA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abbreviated Language For Authorization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AOI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Area of Interest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Programming Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CMS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content Management System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CWL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Common Workflow Language</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Access Library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EMS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Execution Management Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Earth Observation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exploitation Platform</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FUSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filesystem in Userspace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoXACML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geo-specific extension to the XACML Policy Language</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identity and Access Management</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IdP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identity Provider</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JavaScript Object Notation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">K8s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KVP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key-value Pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M2M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Machine-to-machine</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSDD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(EOEPCA) Master System Design Document</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSICD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(EOEPCA) Master System Interface Control Document</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processor Development Environment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Policy Decision Point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PEP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Policy Enforcement Point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Policy Information Point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RBAC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Role Based Access Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Representational State Transfer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Shell</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TOI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of Interest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UMA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-Managed Access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VNC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual Network Computing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WCS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Coverage Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WCPS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Coverage Processing Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WFS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Feature Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WMS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Map Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WMTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Map Tile Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Processing Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPS-T</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transactional Web Processing Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XACML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">eXtensible Access Control Markup Language</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mainOverview">2. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This Master System Interface Control Document (MSICD) is a companion to the Master System Design Document <a href="#EOEPCA-MSDD">[EOEPCA-MSDD]</a>.</p>
</div>
<div class="paragraph">
<p><a href="#EOEPCA-MSDD">[EOEPCA-MSDD]</a> defines system building-blocks organised within three domain areas&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User Management:</strong> Responsible for all aspects related to user identity, authentication, authorization, accounting and billing in a federated system-of-systems environment.</p>
</li>
<li>
<p><strong>Processing and Chaining:</strong> Provides access to a variety of processing functions, tools and applications, as well as execution environments in which to deploy them.</p>
</li>
<li>
<p><strong>Resource Management:</strong> Responsible for maintaining an inventory of platform and federated resources, and providing services for data access and visualisation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The MSICD provides a system-level specification of the interfaces between all building-blocks comprising the EOEPCA system architecture. The document is organised by domain, and by building-block. The context of each building block is expressed by enumeration of the interfaces it <strong>provides</strong>, and the interfaces of other building blocks and external entities that it <strong>consumes</strong>. Provided interfaces are consumed by other building blocks, and may also be presented as platform 'public' interfaces for external consumption.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Section <a href="#mainUserManagement">User Management</a></dt>
<dd>
<p>Provides the interface specification for the following building blocks:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#mainLoginService">Login Service</a></p>
</li>
<li>
<p><a href="#mainPEP">Policy Enforcement Point (PEP)</a></p>
</li>
<li>
<p><a href="#mainPDP">Policy Decision Point (PDP)</a></p>
</li>
<li>
<p><a href="#mainUserProfile">User Profile</a></p>
</li>
<li>
<p><a href="#mainLicenseManager">License Manager</a></p>
</li>
<li>
<p><a href="#mainBillingService">Billing Service</a></p>
</li>
<li>
<p><a href="#mainPricingEngine">Pricing Engine</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Section <a href="#mainProcessingAndChaining">Processing &amp; Chaining</a></dt>
<dd>
<p>Provides the interface specification for the following building blocks:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#mainADES">Application Deployment and Execution Service (ADES)</a></p>
</li>
<li>
<p><a href="#mainEMS">Execution Management Service (EMS)</a></p>
</li>
<li>
<p><a href="#mainWorkflowEngine">Workflow Engine</a></p>
</li>
<li>
<p><a href="#mainPDE">Processor Development Environment (PDE)</a></p>
</li>
<li>
<p><a href="#mainIAT">Interactive Analysis Tool (IAT)</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Section <a href="#mainResourceManagement">Resource Management</a></dt>
<dd>
<p>Provides the interface specification for the following building blocks:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#mainResourceCatalogue">Resource Catalogue</a></p>
</li>
<li>
<p><a href="#mainDataAccessServices">Data Access Services</a></p>
</li>
<li>
<p><a href="#mainDataAccessGateway">Data Access Gateway</a></p>
</li>
<li>
<p><a href="#mainDataAccessLibrary">Data Access Library</a></p>
</li>
<li>
<p><a href="#mainDataIngestion">Data Ingestion</a></p>
</li>
<li>
<p><a href="#mainWorkspace">Workspace</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="mainUserManagement">3. User Management</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="mainLoginService">3.1. Login Service</h3>
<div class="paragraph">
<p>Refer to Login Service component documentation - <a href="https://eoepca.github.io/um-login-service/master" class="bare">https://eoepca.github.io/um-login-service/master</a></p>
</div>
<div class="sect3">
<h4 id="_description">3.1.1. Description</h4>
<div class="paragraph">
<p>The Login Service building block provides an OIDC and UMA compliant solution enabling authentication and authorization mechanisms within an Exploitation Platform. Other building blocks, such as the Policy Decision Point, Policy Enforcement Point and User Profile rely on this Building Block to provide several standard interfaces.</p>
</div>
</div>
<div class="sect3">
<h4 id="_context">3.1.2. Context</h4>
<div class="paragraph">
<p>The following context diagram identifies the major components interfacing with the Login Service:<br>
(<span class="red">RED</span> ~ consumers of Login Service provided interfaces, <span class="blue">BLUE</span> ~ providers of interfaces consumed by the Login Service)</p>
</div>
<div id="img_loginServiceContext" class="imageblock text-center">
<div class="content">
<img src="./images/login-service-context.png" alt="login service context" width="430" height="295">
</div>
<div class="title">Figure 1. Login Service context diagram</div>
</div>
<div class="paragraph">
<p>The EOEPCA Login Service provides implementations of the state-of-the-art standards and supports all building blocks that require authentication (through OIDC), authorization (through UMA) and user management capabilities (through SCIM). In addition to this, the Login Service exposes a Web Interface that can be used to perform monitoring and configuration management by operators.</p>
</div>
<div class="paragraph">
<p>The Login Service can also rely on XACML-based flows to verify access rights during an authorization flow, contacting mainly the XACML endpoints exposed by <strong><a href="#mainPDP">Policy Decision Point (PDP)</a></strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_provided_interfaces">3.1.3. Provided Interfaces</h4>
<div id="img_loginServicerovidedInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/login-service-provided-interfaces.png" alt="login service provided interfaces" width="447" height="482">
</div>
<div class="title">Figure 2. Login Service provided interfaces</div>
</div>
<div class="paragraph">
<p>The Login Service enables the following interfaces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#adminWeb">Administration Web Interface</a> - Web Administration interface meant for Operators</p>
</li>
<li>
<p><a href="#mainOIDC">OIDC Interface</a> - OIDC compliant endpoint allowing acting as OpenID Provider (OP)</p>
</li>
<li>
<p><a href="#mainUMA">[mainUMA]</a> - UMA compliant endpoints acting as Authorization Server (AS)</p>
</li>
<li>
<p><a href="#mainSCIM">[mainSCIM]</a> - SCIM compliant endpoints allowing User Management and user information retrieval mechanisms</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="adminWeb">3.1.3.1. Administration Web Interface</h5>
<div class="paragraph">
<p>The Login Service provides administration functionality for users with elevated priviledges. This allows admins to have an overview of the entire system, as well as configure anything necessary from this interface.</p>
</div>
<div class="paragraph">
<p>This interface allows manual editing, creation and removal of OIDC Client configurations, UMA Scopes, Custom Polices and base configuration parameters.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards">3.1.3.1.1. Applicable Standards</h6>
<div class="paragraph">
<p>No applicable standards besides Hypertext Transfer Protocol (HTTP) as means to serve the information to the End-User</p>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints">3.1.3.1.2. Endpoints</h6>
<div class="paragraph">
<p>URL(1): /<br>
URL(2): /identity</p>
</div>
<div class="paragraph">
<p>By default, the Login Service administration portal resides on the root path of the deployment. This root path usually redirects to the management service located at:</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="mainOIDC">3.1.3.2. OIDC Interface</h5>
<div class="paragraph">
<p>The Login Service provides an OIDC compliant interface that allows Requesting Parties to authenticate End-Users through their use of credentials. It mainly acts as an identity layer on top of OAuth2.0</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_2">3.1.3.2.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF - OpenID Connect 1.0</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_2">3.1.3.2.2. Endpoints</h6>
<div class="paragraph">
<p>URL: /.well-known/openid-configuration</p>
</div>
<div class="paragraph">
<p>The Login Service exposes the standard discovery document, a JSON showcasing all the necessary metadata and endpoint enumeration for a client application to dynamically load all the needed endpoints.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_uma_interface">3.1.3.3. UMA Interface</h5>
<div class="paragraph">
<p>The Login Service provides a UMA compliant interface that allows Resource Servers (or Policy Enforcement Points running in front of these) to request valid Requesting Party Tokens (RPTs). UMA is a custom profile of OAuth2.0 that introduces a ticket-based profile, similar to the "authorization code" flow but keeping it agnostic in terms of authentication.</p>
</div>
<div class="paragraph">
<p>UMA mainly manages the notion of "resource" as the main managed object, with tickets being a representation of an attempt to access any given resource within a specific realm. In order to facilitate this, several resource management endpoints (registration, deletion, scope assignment) are made available and the standard intentionally leaves Policy resolution (access checks) out of the specification to facilitate integration with other technologies (XACML, and any given policy language).</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_3">3.1.3.3.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>Kantara Innitiative - UMA 2.0</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_3">3.1.3.3.2. Endpoints</h6>
<div class="paragraph">
<p>URL: /.well-known/uma2-configuration</p>
</div>
<div class="paragraph">
<p>The Login Service exposes a dicovery document very much similar to OIDC well-known documents. Although this is not implicitly stated as necessary part of a UMA-compliant solution, serving a well-known endpoint makes client integration more familiar to developers that may be used to OIDC Client integration.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_scim_interface">3.1.3.4. SCIM Interface</h5>
<div class="paragraph">
<p>The Login Service provides a SCIM compliant interface, designed to make managing user identities in cloud-based applications and services easier due to its well-defined schemas and endpoints.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_4">3.1.3.4.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF RFC 7644 - System for Cross-domain Identity Management ~</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_4">3.1.3.4.2. Endpoints</h6>
<div class="paragraph">
<p>URL: /.well-known/scim-configuration</p>
</div>
<div class="paragraph">
<p>Similarly to OIDC and UMA endpoints, this well-known endpoint allows to discover all relevant SCIM operations. Although this strategy is not enforced, serving a well-known endpoint makes client integration more familiar to developers that may be used to OIDC Client integration.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_required_interfaces">3.1.4. Required Interfaces</h4>
<div id="img_loginServiceRequiredInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/login-service-required-interfaces.png" alt="login service required interfaces" width="141" height="284">
</div>
<div class="title">Figure 3. Login Service required interfaces</div>
</div>
<div class="paragraph">
<p>The Login Service utilizes the following interfaces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#loginServiceXACML">[loginServiceXACML]</a> - XACML compliant interface used to perform queries against a Policy Decision Point (PDP).</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_xacml_policy_checks">3.1.4.1. XACML Policy Checks</h5>
<div class="paragraph">
<p>The Login Service might delegate policy checks, as part of its UMA workflow execution, to an external service that exposes an XACML-compliant interface (in this architecture, this could be provided by the Policy Decision Point). This standard mostly covers request and response format for a policy decision service, and includes a JSON binding that fully maps the original XML schemas to JSON schemas that can be used in XACML compliant request generation and response parsing.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_5">3.1.4.1.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>OASIS - eXtensible Access Control Markup Language (XACML) Version 3.0 ~</p>
</li>
<li>
<p>OASIS (Public Draft) - JSON Profile of XACML 3.0 Version 1.1 ~</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints">3.1.4.1.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;pdp_instance&gt;/policy/validate</p>
</div>
<div class="paragraph">
<p>Within EOEPCA, the remote endpoint stated above and exposed by the PDP will accept XACML compliant requests.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_scenarios">3.1.5. Example Scenarios</h4>
<div class="sect4">
<h5 id="_end_user_authentication">3.1.5.1. End-User Authentication</h5>
<div id="img_loginServiceAuthentication" class="imageblock text-center">
<div class="content">
<img src="./images/login-service-authentication.png" alt="login service authentication" width="721" height="447">
</div>
<div class="title">Figure 4. Login Service provided interfaces</div>
</div>
</div>
<div class="sect4">
<h5 id="_resource_access">3.1.5.2. Resource Access</h5>
<div class="paragraph">
<p>For an in detail scenario involving resource access, please refer to the Policy Enforcement Point section and its use of the UMA Endpoints</p>
</div>
</div>
<div class="sect4">
<h5 id="_identity_management">3.1.5.3. Identity Management</h5>
<div class="paragraph">
<p>For an in detail scenario involving identity resource management, please refer to the Policy Decision Point section and its use of the SCIM Endpoints</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mainPEP">3.2. Policy Enforcement Point (PEP)</h3>
<div class="paragraph">
<p>Refer to PEP building block documentation - <a href="https://eoepca.github.io/um-pep-engine/master" class="bare">https://eoepca.github.io/um-pep-engine/master</a></p>
</div>
<div class="sect3">
<h4 id="_description_2">3.2.1. Description</h4>
<div class="paragraph">
<p>The Policy Enforcement Point (PEP) allows unsecured Resource Servers to be integrated in the architecture, by providing the means to securely register, manage and expose resources. Any Web Service provided by the architecture can potentially run an ad-hoc PEP service that serves as secure contact point and handles all the necessary UMA Flow steps.</p>
</div>
</div>
<div class="sect3">
<h4 id="_context_2">3.2.2. Context</h4>
<div class="paragraph">
<p>The following context diagram identifies the major components interfacing with the PEP:<br>
(<span class="red">RED</span> ~ consumers of PEP provided interfaces, <span class="blue">BLUE</span> ~ providers of interfaces consumed by the PEP)</p>
</div>
<div id="img_pepContext" class="imageblock text-center">
<div class="content">
<img src="./images/pep-context.png" alt="pep context" width="552" height="393">
</div>
<div class="title">Figure 5. Policy Enforcement Point context diagram</div>
</div>
<div class="paragraph">
<p>EOEPCA PEP Service provides a Platform Resource management API that abstracts the UMA Standard and facilitates its usage by Resource Owners. It also exposes unsecured endpoints of Resource Servers through its secure proxying endpoint.</p>
</div>
<div class="paragraph">
<p>The PEP relies on UMA to implement the necessary steps of the ticket-based authorization flow. It also allows propagation of End-User claims towards the Resource Server.</p>
</div>
</div>
<div class="sect3">
<h4 id="_provided_interfaces_2">3.2.3. Provided Interfaces</h4>
<div id="img_pepProvidedInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/pep-provided-interfaces.png" alt="pep provided interfaces" width="326" height="268">
</div>
<div class="title">Figure 6. Policy Enforcement Point provided interfaces</div>
</div>
<div class="sect4">
<h5 id="_platform_resource_api">3.2.3.1. Platform Resource API</h5>
<div class="sect5">
<h6 id="_applicable_standards_6">3.2.3.1.1. Applicable Standards</h6>
<div class="paragraph">
<p>No applicable standards besides Hypertext Transfer Protocol (HTTP) and a RESTful API approach allowing CRUD operations over Resource reference objects.</p>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_5">3.2.3.1.2. Endpoints</h6>
<div class="paragraph">
<p>URL: /resources/{id}</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_secured_proxy">3.2.3.2. Secured Proxy</h5>
<div class="sect5">
<h6 id="_applicable_standards_7">3.2.3.2.1. Applicable Standards</h6>
<div class="paragraph">
<p>No applicable standards besides the capability to parse and enrich Hypertext Transfer Protocol (HTTP) operations .</p>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_6">3.2.3.2.2. Endpoints</h6>
<div class="paragraph">
<p>URL: /secure/{back-end-url}</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_required_interfaces_2">3.2.4. Required Interfaces</h4>
<div id="img_pepRequiredInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/pep-required-interfaces.png" alt="pep required interfaces" width="596" height="316">
</div>
<div class="title">Figure 7. Policy Enforcement Point required interfaces</div>
</div>
<div class="sect4">
<h5 id="_oidc_authentication">3.2.4.1. OIDC Authentication</h5>
<div class="paragraph">
<p>The PEP utilizes an OIDC Client implementation to consume OIDC endpoints, authenticate itself as trusted platform component, generate JWT documents containing End-User information, and secure its Platform Resource API endpoints.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_8">3.2.4.1.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF - OpenID Connect 1.0</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_2">3.2.4.1.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/.well-known/openid-configuration</p>
</div>
<div class="paragraph">
<p>The Login Service exposes the standard discovery document, a JSON showcasing all the necessary metadata and endpoint enumeration for a client application to dynamically load all the needed endpoints.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_uma_authorization">3.2.4.2. UMA Authorization</h5>
<div class="paragraph">
<p>The PEP utilizes a UMA Client implementation to consume UMA Endpoints, enforcing authorization of all requests made to the secure proxy endpoint (generation of tickets and RPT validation)</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_9">3.2.4.2.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>Kantara Innitiative - UMA 2.0</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_3">3.2.4.2.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/.well-known/uma2-configuration</p>
</div>
<div class="paragraph">
<p>The Login Service exposes a dicovery document very much similar to OIDC well-known documents. Although this is not implicitly stated as necessary part of a UMA-compliant solution, serving a well-known endpoint makes client integration more familiar to developers that may be used to OIDC Client integration.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_protected_resource_server">3.2.4.3. Protected Resource Server</h5>
<div class="paragraph">
<p>The PEP sits in front of a Resource Server and propagates all requests and responses (acting as an intermediate client). The only modifications performed by the PEP consist in the inclusion of an HTTP Header containing relevant End-User information.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_10">3.2.4.3.1. Applicable Standards</h6>
<div class="paragraph">
<p>No applicable standards besides the capability to parse and enrich Hypertext Transfer Protocol (HTTP) responses.</p>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_4">3.2.4.3.2. Remote Endpoints</h6>
<div class="paragraph">
<p>The endpoint protected by the PEP is a configurable parameter and depends on the characteristics of the Resource Server running behing the PEP.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_policy_decision_point_pdp">3.2.4.4. Policy Decision Point (PDP)</h5>
<div class="paragraph">
<p>The PEP will interact with the PDP in order to assign a default access policy when registering a new resource.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_11">3.2.4.4.1. Applicable Standards</h6>
<div class="paragraph">
<p>No applicable standards besides the capability to parse and enrich Hypertext Transfer Protocol (HTTP) responses.</p>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_5">3.2.4.4.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-pdp-engine&gt;/policy<br>
The endpoint name is configurable on the PDP side, with this being the default configuration.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_scenarios_2">3.2.5. Example Scenarios</h4>
<div class="sect4">
<h5 id="_resource_access_2">3.2.5.1. Resource Access</h5>
<div id="img_pepAccessResource" class="imageblock text-center">
<div class="content">
<img src="./images/pep-access-resource.png" alt="pep access resource" width="749" height="755">
</div>
<div class="title">Figure 8. Access Resource Scenario</div>
</div>
</div>
<div class="sect4">
<h5 id="_resource_management">3.2.5.2. Resource Management</h5>
<div id="img_pepRegisterResource" class="imageblock text-center">
<div class="content">
<img src="./images/pep-register-resource.png" alt="pep register resource" width="833" height="576">
</div>
<div class="title">Figure 9. Register and Retrive Resource Reference Scenario</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mainPDP">3.3. Policy Decision Point (PDP)</h3>
<div class="paragraph">
<p>Refer to PDP building block documentation - <a href="https://eoepca.github.io/um-pdp-engine/master" class="bare">https://eoepca.github.io/um-pdp-engine/master</a></p>
</div>
<div class="sect3">
<h4 id="_description_3">3.3.1. Description</h4>
<div class="paragraph">
<p>The Policy Decision Point (PDP) provides an XACML compliant decision endpoint that can be both consumed from entities which are external to the platform, and the components participanting in a UMA Flow (Login Service and PEP). It also allows to assign specific access policies to a resource.</p>
</div>
</div>
<div class="sect3">
<h4 id="_context_3">3.3.2. Context</h4>
<div class="paragraph">
<p>The following context diagram identifies the major components interfacing with the PDP:<br>
(<span class="red">RED</span> ~ consumers of PDP provided interfaces, <span class="blue">BLUE</span> ~ providers of interfaces consumed by the PDP)</p>
</div>
<div id="img_pdpContext" class="imageblock text-center">
<div class="content">
<img src="./images/pdp-context.png" alt="pdp context" width="427" height="376">
</div>
<div class="title">Figure 10. Policy Decision Point context diagram</div>
</div>
<div class="paragraph">
<p>EOEPCA&#8217;s PDP Service interacts mainly with the Login Service to both consume its SCIM Endpoints (as source of End-User information) and serve an XACML compliant endpoint to support Policy-based Access Control. On the other hand, Client Applications used by Resource Owners can interact with the Policy Management API to manipulate the access contraints for any given resource.</p>
</div>
</div>
<div class="sect3">
<h4 id="_provided_interfaces_3">3.3.3. Provided Interfaces</h4>
<div id="img_pdpProvidedInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/pdp-provided-interfaces.png" alt="pdp provided interfaces" width="346" height="268">
</div>
<div class="title">Figure 11. Policy Decision Point provided interfaces</div>
</div>
<div class="sect4">
<h5 id="_platform_policy_api">3.3.3.1. Platform Policy API</h5>
<div class="sect5">
<h6 id="_applicable_standards_12">3.3.3.1.1. Applicable Standards</h6>
<div class="paragraph">
<p>No applicable standards besides Hypertext Transfer Protocol (HTTP) and a RESTful API approach allowing CRUD operations over Resource reference objects.</p>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_7">3.3.3.1.2. Endpoints</h6>
<div class="paragraph">
<p>URL: /policies/{id}</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_xacml_policy_checks_2">3.3.3.2. XACML Policy Checks</h5>
<div class="sect5">
<h6 id="_applicable_standards_13">3.3.3.2.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>OASIS - eXtensible Access Control Markup Language (XACML) Version 3.0 ~</p>
</li>
<li>
<p>OASIS (Public Draft) - JSON Profile of XACML 3.0 Version 1.1 ~</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_8">3.3.3.2.2. Endpoints</h6>
<div class="paragraph">
<p>URL: /policy/validate</p>
</div>
<div class="paragraph">
<p>This XACML Policy Check endpoint can potentially be available as a Platform interface, allowing external entities to perform policy checks when a Platform Resource is being consumed from outside of its Platform.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_required_interfaces_3">3.3.4. Required Interfaces</h4>
<div id="img_pdpRequiredInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/pdp-required-interfaces.png" alt="pdp required interfaces" width="375" height="268">
</div>
<div class="title">Figure 12. Policy Decision Point required interfaces</div>
</div>
<div class="sect4">
<h5 id="_oidc_authentication_2">3.3.4.1. OIDC Authentication</h5>
<div class="paragraph">
<p>The PDP utilizes an OIDC Client implementation to consume OIDC endpoints, and authenticate itself as trusted platform component, and secure its Policy API endpoints.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_14">3.3.4.1.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF - OpenID Connect 1.0</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_6">3.3.4.1.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/.well-known/openid-configuration</p>
</div>
<div class="paragraph">
<p>The Login Service exposes the standard discovery document, a JSON showcasing all the necessary metadata and endpoint enumeration for a client application to dynamically load all the needed endpoints.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_uma_authorization_2">3.3.4.2. UMA Authorization</h5>
<div class="paragraph">
<p>The PDP utilizes a UMA Client implementation that allows to successfully access SCIM protected endpoints.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_15">3.3.4.2.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>Kantara Innitiative - UMA 2.0</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_7">3.3.4.2.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/.well-known/uma2-configuration</p>
</div>
<div class="paragraph">
<p>The Login Service exposes a dicovery document very much similar to OIDC well-known documents. Although this is not implicitly stated as necessary part of a UMA-compliant solution, serving a well-known endpoint makes client integration more familiar to developers that may be used to OIDC Client integration.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_scim_identity_management">3.3.4.3. SCIM Identity Management</h5>
<div class="paragraph">
<p>The PDP utilizes an SCIM Client implementation that allows to retrieve information about End-Users and take it into account for its policy decision functionality</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_16">3.3.4.3.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF RFC 7644 - System for Cross-domain Identity Management ~</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_8">3.3.4.3.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/.well-known/scim-configuration</p>
</div>
<div class="paragraph">
<p>Similarly to OIDC and UMA endpoints, this well-known endpoint allows to discover all relevant SCIM operations, allowing the PDP to dynamically load the list of endpoints to use.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_scenarios_3">3.3.5. Example Scenarios</h4>
<div class="sect4">
<h5 id="_policy_access_check">3.3.5.1. Policy Access Check</h5>
<div id="img_pdpAccessCheck" class="imageblock text-center">
<div class="content">
<img src="./images/pdp-access-check.png" alt="pdp access check" width="733" height="343">
</div>
<div class="title">Figure 13. Authorization Server XACML Request Scenario</div>
</div>
</div>
<div class="sect4">
<h5 id="_policy_management">3.3.5.2. Policy Management</h5>
<div id="img_pdpPolicyManagement" class="imageblock text-center">
<div class="content">
<img src="./images/pdp-policy-management.png" alt="pdp policy management" width="665" height="517">
</div>
<div class="title">Figure 14. PDP Policy Management Scenarios</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mainUserProfile">3.4. User Profile</h3>
<div class="paragraph">
<p>Refer to User Profile building block documentation - <a href="https://eoepca.github.io/um-user-profile/master" class="bare">https://eoepca.github.io/um-user-profile/master</a></p>
</div>
<div class="sect3">
<h4 id="_description_4">3.4.1. Description</h4>
<div class="paragraph">
<p>The User Profile building block serves to encapsulate profile actions (such as edit or removal) into a web interface, while at the same time providing the infrastructure upon which to implement other building blocks, such as Billing and Licensing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_context_4">3.4.2. Context</h4>
<div class="paragraph">
<p>The following context diagram identifies the major components interfacing with the User Profile:<br>
(<span class="red">RED</span> ~ consumers of User Profile provided interfaces, <span class="blue">BLUE</span> ~ providers of interfaces consumed by the User Profile)</p>
</div>
<div id="img_user-profileContext" class="imageblock text-center">
<div class="content">
<img src="./images/user-profile-context.png" alt="user profile context" width="411" height="392">
</div>
<div class="title">Figure 15. Policy Decision Point context diagram</div>
</div>
<div class="paragraph">
<p>In order to support the Billing Service, the User Profile building block allows to identify users (leaving a reference to their home IdP), to assign them Billing Identities, Service API keys, License keys and to record Terms and Conditions acceptance. It’s a persistence service with interfaces that will be queried by other building blocks (License Manager, Billing Service, Policy Decision Point) and modified by both the License Manager and the Login Service (during creation of a new user profile or assignment of new Licenses).</p>
</div>
</div>
<div class="sect3">
<h4 id="_provided_interfaces_4">3.4.3. Provided Interfaces</h4>
<div id="img_user-profileProvidedInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/user-profile-provided-interfaces.png" alt="user profile provided interfaces" width="120" height="268">
</div>
<div class="title">Figure 16. Policy Decision Point provided interfaces</div>
</div>
<div class="sect4">
<h5 id="_profile_management_web_interface">3.4.3.1. Profile Management Web Interface</h5>
<div class="paragraph">
<p>A web service is made available for users to perform actions related to the building block, such as account removal.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_17">3.4.3.1.1. Applicable Standards</h6>
<div class="paragraph">
<p>No applicable standards besides Hypertext Transfer Protocol (HTTP) as means to serve the information to the End-User</p>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_9">3.4.3.1.2. Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/web_ui</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_required_interfaces_4">3.4.4. Required Interfaces</h4>
<div id="img_user-profileRequiredInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/user-profile-required-interfaces.png" alt="user profile required interfaces" width="391" height="268">
</div>
<div class="title">Figure 17. Policy Decision Point required interfaces</div>
</div>
<div class="sect4">
<h5 id="_oidc_authentication_3">3.4.4.1. OIDC Authentication</h5>
<div class="paragraph">
<p>The User Profile utilizes an OIDC Client implementation to consume OIDC endpoints, authenticate itself as trusted platform component, generate JWT documents containing End-User information, and secure its Platform Resource API endpoints.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_18">3.4.4.1.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF - OpenID Connect 1.0</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_9">3.4.4.1.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/.well-known/openid-configuration</p>
</div>
<div class="paragraph">
<p>The Login Service exposes the standard discovery document, a JSON showcasing all the necessary metadata and endpoint enumeration for a client application to dynamically load all the needed endpoints.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_scim_identity_management_2">3.4.4.2. SCIM Identity Management</h5>
<div class="paragraph">
<p>The User profile utilizes a SCIM Client implementation to consume SCIM endpoints, designed to make managing user identities in cloud-based applications and services easier due to its well-defined schemas and endpoints.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_19">3.4.4.2.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF RFC 7644 - System for Cross-domain Identity Management</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_10">3.4.4.2.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: /.well-known/scim-configuration</p>
</div>
<div class="paragraph">
<p>This well-known endpoint allows to discover all relevant SCIM operations. Although this strategy is not enforced, serving a well-known endpoint makes client integration more familiar to developers that may be used to OIDC Client integration.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_email_service">3.4.4.3. Email Service</h5>
<div class="paragraph">
<p>The User Profile building block also implements a SMTP Client, that allows for the sending of email notifications that serves as, and implements, a confirmation action in an account removal scenario.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_20">3.4.4.3.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>IETF RFC 2822 - Internet Message Format</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_remote_endpoints_11">3.4.4.3.2. Remote Endpoints</h6>
<div class="paragraph">
<p>URL: &lt;um-login-service&gt;/confirmation_mail</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_scenarios_4">3.4.5. Example Scenarios</h4>
<div class="sect4">
<h5 id="_attribute_edition">3.4.5.1. Attribute Edition</h5>
<div id="img_userProfileEdit" class="imageblock text-center">
<div class="content">
<img src="./images/user-profile-edit.png" alt="user profile edit" width="956" height="623">
</div>
<div class="title">Figure 18. User Profile attribute editing</div>
</div>
</div>
<div class="sect4">
<h5 id="_account_deletion">3.4.5.2. Account Deletion</h5>
<div id="img_userProfileRemoval" class="imageblock text-center">
<div class="content">
<img src="./images/user-profile-removal.png" alt="user profile removal" width="888" height="626">
</div>
<div class="title">Figure 19. User Profile account removal</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mainLicenseManager">3.5. License Manager</h3>
<div class="paragraph">
<p>Not in the scope of Release 0.2</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainBillingService">3.6. Billing Service</h3>
<div class="paragraph">
<p>Not in the scope of Release 0.2</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainPricingEngine">3.7. Pricing Engine</h3>
<div class="paragraph">
<p>Not in the scope of Release 0.2</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mainProcessingAndChaining">4. Processing &amp; Chaining</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="mainADES">4.1. Application Deployment and Execution Service (ADES)</h3>
<div class="paragraph">
<p>Refer to ADES component documentation - <a href="https://eoepca.github.io/proc-ades/master" class="bare">https://eoepca.github.io/proc-ades/master</a></p>
</div>
<div class="sect3">
<h4 id="_description_5">4.1.1. Description</h4>
<div class="paragraph">
<p>The ADES provides processing services interfaces via WPS 1.0 &amp; 2.0 service ports as well as an OGC API Processes compliant API. It is responsible for the execution of the processing service (as a WPS request) within the ‘target’ Exploitation Platform (i.e. one that is close to the data). In the global scenario, we assume that the EMS ensures that the processor is deployed as a WPS service before it is invoked.</p>
</div>
</div>
<div class="sect3">
<h4 id="_context_5">4.1.2. Context</h4>
<div class="paragraph">
<p>The following context diagram identifies the major components interfacing with the ADES:<br>
(<span class="red">RED</span> ~ consumers of ADES provided interfaces, <span class="blue">BLUE</span> ~ providers of interfaces consumed by the ADES)</p>
</div>
<div id="img_adesContext" class="imageblock text-center">
<div class="content">
<img src="./images/ades-context.png" alt="ades context" width="469" height="359">
</div>
<div class="title">Figure 20. ADES context diagram</div>
</div>
<div class="paragraph">
<p>The EOEPCA <strong><a href="#mainEMS">Execution Management Service (EMS)</a></strong> is the main client of the ADES that (un)deploys applications, executes &amp; monitor jobs.</p>
</div>
<div class="paragraph">
<p>All interactions with the ADES should be via the <strong><a href="#mainPEP">Policy Enforcement Point (PEP)</a></strong> that filters authorized requests, and provides user attributes to the ADES, allowing the user&#8217;s context to be propagated through onward requests. The ADES obtains authorization policy information, as required, from the policy endpoint of the <strong><a href="#mainPDP">Policy Decision Point (PDP)</a></strong>.</p>
</div>
<div class="paragraph">
<p>The ADES resolves input data references via the <strong><a href="#mainResourceCatalogue">Resource Catalogue</a></strong>, with the data retrieved through the <strong><a href="#mainDataAccessServices">Data Access Services</a></strong> referenced by the catalogue. The ADES interfaces with the <strong><em>User Application</em></strong> to orchestrate its execution (incl. data stage-in/out). The ADES interfaces to the Kubernetes cluster for execution of the requested application. Processing outputs are persisted to the <strong><a href="#mainWorkspace">Workspace</a></strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_provided_interfaces_5">4.1.3. Provided Interfaces</h4>
<div id="img_adesProvidedInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/ades-provided-interfaces.png" alt="ades provided interfaces" width="308" height="482">
</div>
<div class="title">Figure 21. ADES provided interfaces</div>
</div>
<div class="paragraph">
<p>The ADES enables interfaces for the processing based on the OGC "Web Processing Service". It exposes 2 web services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Web services for processing:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#mainWPS">WPS 1.0.0 &amp; 2.0.0</a> - OGC Web Services Common <a href="#OGC-COMMON">[OGC-COMMON]</a> hosting <a href="#mainWPS">WPS 1.0.0 &amp; 2.0.0</a> processing services</p>
</li>
<li>
<p><a href="#mainOgcApiProc">OGC API Processes</a> - OGC API Processes <a href="#OGC-API-PROC">[OGC-API-PROC]</a> hosting WPS in RESTful core OpenAPI</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#_application_invocation">Application Invocation</a> - the ADES establishes standard conventions with the application being invoked, through which the application receives its inputs and provides its outputs</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="mainWPS">4.1.3.1. WPS 1.0.0 &amp; 2.0.0</h5>
<div class="paragraph">
<p>The <a href="https://www.ogc.org/standards/wps">OpenGIS® Web Processing Service (WPS)</a> Interface Standard provides rules for standardizing how inputs and outputs (requests and responses) for geospatial processing services, such as polygon overlay. The standard also defines how a client can request the execution of a process, and how the output from the process is handled. It defines an interface that facilitates the publishing of geospatial processes and clients’ discovery of and binding to those processes. The data required by the WPS can be delivered across a network or they can be available at the server.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_21">4.1.3.1.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>OGC Web Processing Service 1.0 - <a href="#OGC-WPS">[OGC-WPS]</a></p>
</li>
<li>
<p>OGC Web Processing Service 2.0 - <a href="#OGC-WPS2">[OGC-WPS2]</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_10">4.1.3.1.2. Endpoints</h6>
<div class="paragraph">
<p>URL: <a href="https://ades.eoepca.org/ows" class="bare">https://ades.eoepca.org/ows</a></p>
</div>
<div class="paragraph">
<p>The WPS server is self-contained, it provides an initial endpoint that can be used by a WPS client to determine the server’s capabilities. GET, POST operations according to the payload of the requested service, with bindings defined for HTTP/POST+XML and HTTP/GET+KVP.</p>
</div>
<div class="paragraph">
<p><strong><em>Standard Operations</em></strong></p>
</div>
<div class="paragraph">
<p>Examples with HTTP/GET+KVP binding&#8230;&#8203;</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">GetCapabilities</dt>
<dd>
<p><code><a href="http://hostname:port/path?service=WPS&amp;request=GetCapabilities" class="bare">http://hostname:port/path?service=WPS&amp;request=GetCapabilities</a></code><br>
Allows a client to retrieve service metadata, basic process offerings, and the available processes present on a WPS server</p>
</dd>
<dt class="hdlist1">DescribeProcess</dt>
<dd>
<p><code><a href="http://hostname:port/path?service=WPS&amp;version=2.0.0&amp;request=DescribeProcess&amp;identifier=ALL" class="bare">http://hostname:port/path?service=WPS&amp;version=2.0.0&amp;request=DescribeProcess&amp;identifier=ALL</a></code><br>
Allows WPS clients to query detailed process descriptions for the process offerings</p>
</dd>
<dt class="hdlist1">GetStatus</dt>
<dd>
<p><code><a href="http://hostname:port/path?service=WPS&amp;version=2.0.0&amp;request=GetStatus&amp;jobid=FB6DD4B0-A2BB-11E3-A5E2-0800200C9A66" class="bare">http://hostname:port/path?service=WPS&amp;version=2.0.0&amp;request=GetStatus&amp;jobid=FB6DD4B0-A2BB-11E3-A5E2-0800200C9A66</a></code><br>
Allows WPS clients to query the status of an asynchronously executed job</p>
</dd>
<dt class="hdlist1">GetResult</dt>
<dd>
<p><code><a href="http://hostname:port/path?service=WPS&amp;version=2.0.0&amp;request=GetResult&amp;jobid=FB6DD4B0-A2BB-11E3-A5E2-0800200C9A66" class="bare">http://hostname:port/path?service=WPS&amp;version=2.0.0&amp;request=GetResult&amp;jobid=FB6DD4B0-A2BB-11E3-A5E2-0800200C9A66</a></code><br>
Allows WPS clients to query the result of a finished processing job</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Only HTTP/POST+XML binding for execute&#8230;&#8203;</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Execute</dt>
<dd>
<p><code><a href="http://hostname:port/path?service=WPS" class="bare">http://hostname:port/path?service=WPS</a></code> + XML POST data<br>
Allows WPS clients to run a specified process implemented by a server</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong><em>EOEPCA Extension Operations</em></strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">DeployProcess</dt>
<dd>
<p><code>Execute</code> operation with a process identifier of <code>eoepcaadesdeployprocess</code><br>
Allows a client to deploy a custom process to be made available via the WPS service</p>
</dd>
<dt class="hdlist1">UndeployProcess</dt>
<dd>
<p><code>Execute</code> operation with a process identifier of <code>eoepcaadesundeployprocess</code><br>
Allows a client to undeploy a previously deployed custom WPS process</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The 2 previously described processes implement the transactional function of the WPS known at WPS-T in WPS 1.0 &amp; 2.0. In the OGC API Processes described in the next section, those functions are embedded as HTTP methods (POST &amp; DELETE) at process level.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="mainOgcApiProc">4.1.3.2. OGC API Processes</h5>
<div class="paragraph">
<p>The OGC API - Processes enables the execution of computing processes and the retrieval of metadata describing their purpose and functionality. Typically, these processes combine raster, vector, and/or coverage data with well-defined algorithms to produce new raster, vector, and/or coverage information.</p>
</div>
<div class="sect5">
<h6 id="_applicable_standards_22">4.1.3.2.1. Applicable Standards</h6>
<div class="ulist">
<ul>
<li>
<p>OGC API - Processes ~ <a href="#OGC-API-PROC">[OGC-API-PROC]</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_endpoints_11">4.1.3.2.2. Endpoints</h6>
<div class="paragraph">
<p>URL: <a href="https://ades.eoepca.org/api" class="bare">https://ades.eoepca.org/api</a></p>
</div>
<div class="paragraph">
<p><strong><em>Standard Operations</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. ADES OGC API Processes</caption>
<colgroup>
<col style="width: 19.0476%;">
<col style="width: 9.5238%;">
<col style="width: 47.619%;">
<col style="width: 23.8096%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">landing page of this API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/Capabilities/getLandingPage">getLandingPage</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/conformance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists all requirements classes specified in the standard (e.g., OGC API - Processes Part 1: Core) that the server conforms to</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/ConformanceDeclaration/getConformanceClasses">getConformanceClasses</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists all available processes this server offers.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/ProcessCollection/getProcesses">getProcesses</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes/{id}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes a process.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/ProcessDescription/getProcessDescription">getProcessDescription</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes/{id}/jobs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists available jobs of a process.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/JobCollection/getJobs">getJobs</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes/{id}/jobs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submits a new job.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/Execute/execute">execute</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes/{id}/jobs/{jobID}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows the status of a job.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/Status/getStatus">getStatus</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes/{id}/jobs/{jobID}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel a job execution and remove it from the jobs list.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/Dismiss/dismiss">dismiss</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes/{id}/jobs/{jobID}/result</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists available results of a job. In case of a failure, lists exceptions instead.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://app.swaggerhub.com/apis/geoprocessing/WPS/1.0-draft.3#/Result/getResult">getResult</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong><em>Transactional Extension</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. ADES OGC API Processes (transactional extension)</caption>
<colgroup>
<col style="width: 19.0476%;">
<col style="width: 9.5238%;">
<col style="width: 47.619%;">
<col style="width: 23.8096%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows a client to deploy a custom process to be made available via the Processing service</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DeployProcess</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/processes/{id}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows a client to undeploy a previously deployed custom process</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>UndeployProcess</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_application_invocation">4.1.3.3. Application Invocation</h5>
<div class="sect5">
<h6 id="_cwl_as_application_descriptor">4.1.3.3.1. CWL as Application Descriptor</h6>
<div class="paragraph">
<p>CWL is used as the application package descriptor. It covers the following elements necessary to describe the application:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Workflow directed acyclic graph orchestrating the steps in order mapping workflow input/output with steps input/output</p>
</li>
<li>
<p>Steps describing a command line with their input/output</p>
</li>
<li>
<p>CWL specification extensions that may be used to provide the additional information elements</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The application package is thus composed of a CWL file with the role of the application descriptor.<br>
The container reference is included in the CWL as a requirement.</p>
</div>
</div>
<div class="sect5">
<h6 id="_application_deployment_to_web_processing_service">4.1.3.3.2. Application Deployment to Web Processing Service</h6>
<div class="paragraph">
<p>The ADES offers an entry point to deploy the application package (see previous sections).</p>
</div>
<div class="paragraph">
<p>Regardless of the deployment mechanism, the CWL is used to convey the information to describe the web service inputs/outputs using WPS concepts.</p>
</div>
<div class="paragraph">
<p>The mapping between CWL and WPS follows the rules described in the following sections.</p>
</div>
<div class="sect6">
<h7 id="_cwl_workflow_definition_level">CWL Workflow definition level</h7>
<div class="paragraph">
<p>The workflow level is the entry point to the workflow and thus the interface used to map the inputs/outputs.<br>
The inputs/outputs description defined in the command line or  workflow steps are not taken into account directly since they are inked between steps or bound at workflow level as foreseen by the CWL specification.<br>
Indeed, at the web processing service level, only the “staged” input and output parameters are exposed.</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_cwl_staged_inout_files">4.1.3.3.3. CWL staged (in/out) files</h6>
<div class="paragraph">
<p><code>File</code> or <code>Directory</code> are <a href="https://www.commonwl.org/v1.0/CommandLineTool.html#File">CWL parameters types</a> corresponding to files on a file system and thus require a specific mapping according to the implementation of the software component exposing the WPS.<br>
Indeed, the software component executing the processes must manage physical files in the processing environment. At job submission, physical files may be a reference to a resource manager and the software component fetches them to make them available for processing as specified in the CWL using File or Directory type.</p>
</div>
<div class="paragraph">
<p>Therefore, the following mapping rules integrate the resource reference management capabilities.<br>
This is the type(s) of reference to a physical resource that the software component manages. For instance: HTTP link, S3 link, opensearch URL, STAC catalog, etc.</p>
</div>
<div class="paragraph">
<p>The interface for the execution process must have a STAC local catalog (catalog.json and all downstream files: collection.json, items and assets including their associated files) referencing all the data staged-in corresponding collections as specified initially in the CWL.</p>
</div>
<div class="paragraph">
<p>In the above example, the CWL describes a File in input. The parameter is extended with stac:catalog that defines the collection in which the “staged” data must be referenced to.<br>
A detailed example is described in section CWL data staging.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>CWL File mandatory parameter example</em> *</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this example, we assume the software component is able to handle the following resource description document or references:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Opensearch description document describing possible search endpoints to find input files</p>
</li>
<li>
<p>Atom feed with entries containing the input files (enclosures)</p>
</li>
<li>
<p>STAC catalogue with features describing assets as input files</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. CWL File mandatory parameter example</caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CWL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">file_parameter</span>:
      <span class="key">label</span>: <span class="string"><span class="content">Title of file_parameter</span></span>
      <span class="key">doc</span>: <span class="string"><span class="content">Abstract describing file_parameter</span></span>
      <span class="key">type</span>: <span class="string"><span class="content">File</span></span>
      <span class="error">stac:catalog</span>:
         <span class="error">stac:collection</span>: <span class="error">input_file</span>
         <span class="error">stac:href</span>: <span class="error">catalog.json</span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPS 1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;Input</span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;ows:Identifier&gt;</span>int_parameter<span class="tag">&lt;/ows:Identifier&gt;</span>
  <span class="tag">&lt;ows:Title&gt;</span>Title of int_parameter <span class="tag">&lt;/ows:Title&gt;</span>
  <span class="tag">&lt;ows:Abstract&gt;</span>Abstract describing int_parameter<span class="tag">&lt;/ows:Abstract&gt;</span>
  <span class="tag">&lt;ComplexData&gt;</span>
    <span class="tag">&lt;Supported&gt;</span>
      <span class="tag">&lt;Format&gt;</span>
        <span class="tag">&lt;MimeType&gt;</span>application/opensearchdescription+xml<span class="tag">&lt;/MimeType&gt;</span>
      <span class="tag">&lt;/Format&gt;</span>
      <span class="tag">&lt;Format&gt;</span>
        <span class="tag">&lt;MimeType&gt;</span>application/atom+xml<span class="tag">&lt;/MimeType&gt;</span>
      <span class="tag">&lt;/Format&gt;</span>
      <span class="tag">&lt;Format&gt;</span>
        <span class="tag">&lt;MimeType&gt;</span>application/geo+json; profile=stac<span class="tag">&lt;/MimeType&gt;</span>
      <span class="tag">&lt;/Format&gt;</span>
    <span class="tag">&lt;/Supported&gt;</span>
  <span class="tag">&lt;/ComplexData&gt;</span>
<span class="tag">&lt;/Input&gt;</span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPS 2.0.2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;Input</span> <span class="attribute-name">minOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxOccurs</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;ows:Identifier&gt;</span>int_parameter<span class="tag">&lt;/ows:Identifier&gt;</span>
  <span class="tag">&lt;ows:Title&gt;</span>Title of int_parameter <span class="tag">&lt;/ows:Title&gt;</span>
  <span class="tag">&lt;ows:Abstract&gt;</span>Abstract describing int_parameter<span class="tag">&lt;/ows:Abstract&gt;</span>
  <span class="tag">&lt;wps:ComplexData&gt;</span>
    <span class="tag">&lt;wps:Format</span> <span class="attribute-name">mimeType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">application/opensearchdescription+xml</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">encoding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">raw</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;wps:Format</span> <span class="attribute-name">mimeType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">application/atom+xml</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">encoding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">raw</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;wps:Format</span> <span class="attribute-name">mimeType</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">application/geo+json; profile=stac-item</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">encoding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">raw</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/wps:ComplexData&gt;</span>
<span class="tag">&lt;/Input&gt;</span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC API Processes (JSON)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">inputs</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">int_parameter</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Title of int_parameter</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Abstract describing int_parameter</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">input</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">formats</span><span class="delimiter">&quot;</span></span>: [
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">Type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/opensearchdescription+xml</span><span class="delimiter">&quot;</span></span>
          },
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">Type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/atom+xml</span><span class="delimiter">&quot;</span></span>
          },
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">Type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/geo+json; profile=stac-item</span><span class="delimiter">&quot;</span></span>
          }
        ],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">minOccurs</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">maxOccurs</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
      }
    }
  ]
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>CWL data referencing mechanism manages File and Directory data types</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. CWL Data staging</caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">catalog.json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">stac_version</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0.0-beta.1</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">my_workflow</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Catalog of staged data for execution 45325-34214124 of my_workflow</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">links</span><span class="delimiter">&quot;</span></span>: [
    { <span class="key"><span class="delimiter">&quot;</span><span class="content">rel</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>, <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">catalog.json</span><span class="delimiter">&quot;</span></span> },
            { <span class="key"><span class="delimiter">&quot;</span><span class="content">rel</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">root</span><span class="delimiter">&quot;</span></span>, <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">catalog.json</span><span class="delimiter">&quot;</span></span> },
    { <span class="key"><span class="delimiter">&quot;</span><span class="content">rel</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">child</span><span class="delimiter">&quot;</span></span>, <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">collection-input_file.json</span><span class="delimiter">&quot;</span></span> }
  ]
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection-input_file.json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">stac_version</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0.0-beta.1</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">my_workflow</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Catalog of staged data for execution 45325-34214124 of my_workflow</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">links</span><span class="delimiter">&quot;</span></span>: [
    { <span class="key"><span class="delimiter">&quot;</span><span class="content">rel</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>, <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">catalog.json</span><span class="delimiter">&quot;</span></span> },
            { <span class="key"><span class="delimiter">&quot;</span><span class="content">rel</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">root</span><span class="delimiter">&quot;</span></span>, <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">catalog.json</span><span class="delimiter">&quot;</span></span> },
    { <span class="key"><span class="delimiter">&quot;</span><span class="content">rel</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">child</span><span class="delimiter">&quot;</span></span>, <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">collection-input_file.json</span><span class="delimiter">&quot;</span></span> }
  ]
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The complete example at the end of this section describes in details how data are staged in and STAC catalogs generated.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_required_interfaces_5">4.1.4. Required Interfaces</h4>
<div class="paragraph">
<p>The ADES communicates to other components through the interfaces described in this section.</p>
</div>
<div id="img_adesRequiredInterfaces" class="imageblock text-center">
<div class="content">
<img src="./images/ades-required-interfaces.png" alt="ades required interfaces" width="453" height="563">
</div>
<div class="title">Figure 22. ADES Required (consumed) Interfaces</div>
</div>
<div class="sect4">
<h5 id="_resource_managers">4.1.4.1. Resource Managers</h5>
<div class="sect5">
<h6 id="_catalogue_for_referenced_data">4.1.4.1.1. Catalogue for referenced data</h6>
<div class="paragraph">
<p>Since all data (resources) for processing are passed (in or out) by reference, the ADES must be able to contact those resources' manager (e.g. catalog).</p>
</div>
<div class="paragraph">
<p>In input, the ADES supports both OpenSearch (<a href="#CEOS-OS-BP">[CEOS-OS-BP]</a>), <a href="#STAC-SPEC">[STAC-SPEC]</a> and <a href="#STAC API">[STAC API]</a> as resources protocols.</p>
</div>
<div class="paragraph">
<p>In output, the ADES supports the transactional functions of the <a href="#STAC API">[STAC API]</a> to publish catalogs.</p>
</div>
</div>
<div class="sect5">
<h6 id="_data_access_services_for_data_stage_in">4.1.4.1.2. Data Access Services for data stage-in</h6>
<div class="paragraph">
<p>The referenced assets in the catalogs (see previous section) are accessible from the same or another resource manager. Their enclosure URL allows to download entirely the asset or to access parts or it (e.g. COGs with HTTP range).<br>
The ADES supports the following protocols:<br>
- HTTP download<br>
- S3 Download<br>
- WebDAV upload</p>
</div>
</div>
<div class="sect5">
<h6 id="_cluster_infrastructure_for_processing_execution">4.1.4.1.3. Cluster infrastructure for processing execution</h6>
<div class="paragraph">
<p>The ADES uses a kubernestes API for deploying its services and to provision resources for processing.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_scenarios_5">4.1.5. Example Scenarios</h4>
<div class="paragraph">
<p>This section provides examples of the ADES interfacing flows.</p>
</div>
<div class="sect4">
<h5 id="_ades_processing_flows">4.1.5.1. ADES Processing Flows</h5>
<div id="img_adesProcessingFlows" class="imageblock text-center">
<div class="content">
<img src="./images/ades-processing-flows.png" alt="ades processing flows" width="791" height="1795">
</div>
<div class="title">Figure 23. ADES Processing Flows</div>
</div>
<div class="paragraph">
<p><strong><em>Deploy Application</em></strong></p>
</div>
<div class="paragraph">
<p>The first sequence is the application deployment. In the EOEPCA scenario, this is initiated by the EMS that uses the transactional functions of the ADES.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The EMS invoke a service or POST a request to the ADES with the reference to an Application Package and pass by the PEP that allows the deployment accoring to the policy</p>
</li>
<li>
<p>The request is transferred to the ADES along with an auth token</p>
</li>
<li>
<p>The ADES gets the Application Package referenced in the deployment request</p>
</li>
<li>
<p>The ADES registers internally the application as a service</p>
</li>
<li>
<p>The ADES sets a namespace for the service and data volume if necessary</p>
</li>
<li>
<p>The ADES returns the service location to the PEP</p>
</li>
<li>
<p>The PEP returns the service location to the EMS</p>
</li>
<li>
<p>The EMS registers the service deployed on the ADES on the catalog</p>
<div class="paragraph">
<p><strong><em>Submit Job</em></strong></p>
</div>
<div class="paragraph">
<p>The second sequence is the service invokation via a job submission.</p>
</div>
</li>
<li>
<p>The EMS makes a job request to the ADES via the PEP</p>
</li>
<li>
<p>The PEP authorizes and transfer the request to the ADES</p>
</li>
<li>
<p>The ADES instantiates the job and returns the job identifier</p>
</li>
<li>
<p>The ADES returns the job id to the PEP</p>
</li>
<li>
<p>The PEP returns the job id to the EMS</p>
<div class="paragraph">
<p><em>Data Stage-In</em></p>
</div>
<div class="paragraph">
<p>The first stage is about how the ADES prepares the data for the processing. This is a pre-processing step that must provision all the data needed for processing and referenced in the job execute request.</p>
</div>
</li>
<li>
<p>The ADES queries the data references passed as input of the job reequest to the resource manager (e.g. catalog)</p>
</li>
<li>
<p>With the results of the previous request, the ADES retrieves all the assets requested from the resource manager (e.g. data store)</p>
</li>
<li>
<p>The ADES organizes and prepare the data as nedded (e.g. unzip) and rebuild the catalog to point to locally copied data</p>
</li>
<li>
<p>The data references are passed to the next stage of the execution</p>
<div class="paragraph">
<p><em>Workflow Execution</em></p>
</div>
<div class="paragraph">
<p>Data is now ready to be processed by the main processing. The software component will ensure that the input data folder will be properly mounted on each cluster node and accessible from the container that executes the processing. This is the main stage where the processing is actually executed on the data.</p>
</div>
</li>
<li>
<p>The ADES submits and coordinates the necessary jobs as defined in the application workflow</p>
<div class="paragraph">
<p><strong><em>Monitor Job</em></strong></p>
</div>
<div class="paragraph">
<p>This sequence in a parallel sequence triggered by the EMS each time it requests for the job status during the asynchronous job execution</p>
</div>
</li>
<li>
<p>EMS makes a request for status with the Job Id previously returned (13) via the PEP</p>
</li>
<li>
<p>PEP passes the requests along</p>
</li>
<li>
<p>The ADES builds a job progress report based on the workflow execution status</p>
</li>
<li>
<p>The ADES returns the job status document via the PEP</p>
</li>
<li>
<p>The PEP returns the job status to the EMS</p>
</li>
<li>
<p>Once the job is completed, the job status reports the job results location</p>
</li>
<li>
<p>The results refertences are passed to next stage</p>
<div class="paragraph">
<p><em>Data Stage-Out</em></p>
</div>
<div class="paragraph">
<p>The last stage is about how the ADES publishes the data after the processing. This is a post-processing step that must copy the selected data to a persistent storage and registers theit reference to a catalog for further searches.</p>
</div>
</li>
<li>
<p>The ADES copies the results' assets to the persistent storage of the resource manager (e.g. WebDAV)</p>
</li>
<li>
<p>Publish a collection of the assets produced with the reference to the persistent storage to the catalog</p>
</li>
<li>
<p>Keep in the cache of the ADES a reference to the collection for further results query</p>
<div class="paragraph">
<p><strong><em>Get Results</em></strong></p>
</div>
<div class="paragraph">
<p>This ending sequence is the results report from the ADES</p>
</div>
</li>
<li>
<p>EMS makes a request for results with the Job Id previously returned (13) via the PEP</p>
</li>
<li>
<p>PEP passes the requests along</p>
</li>
<li>
<p>The ADES builds a results report based on the results collection (28)</p>
</li>
<li>
<p>The ADES returns the job results document via the PEP</p>
</li>
<li>
<p>The PEP returns the job results to the EMS</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mainEMS">4.2. Execution Management Service (EMS)</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainWorkflowEngine">4.3. Workflow Engine</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainPDE">4.4. Processor Development Environment (PDE)</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainIAT">4.5. Interactive Analysis Tool (IAT)</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mainResourceManagement">5. Resource Management</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="mainResourceCatalogue">5.1. Resource Catalogue</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainDataAccessServices">5.2. Data Access Services</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainDataAccessGateway">5.3. Data Access Gateway</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainDataAccessLibrary">5.4. Data Access Library</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainDataIngestion">5.5. Data Ingestion</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="mainWorkspace">5.6. Workspace</h3>
<div class="paragraph">
<p>TBD</p>
</div>
<hr>
<div class="paragraph large">
<p>&lt;&lt; End of Document &gt;&gt;</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version Draft for 0.1<br>
Last updated 2020-11-10 12:01:35 UTC
</div>
</div>
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css">
</body>
</html>